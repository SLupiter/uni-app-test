(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/maincontent/bookexchange/post"],{"0fd3":function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("view",{staticClass:"page"},[o("view",{staticClass:"feedback-title"},[o("text",[t._v("用户希望交换的图书名称: "+t._s(t.tobook))])]),t._m(0),o("view",{staticClass:"feedback-body"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.frombook,expression:"frombook"}],staticClass:"feedback-input",attrs:{placeholder:"必填",eventid:"145ef090-0"},domProps:{value:t.frombook},on:{input:function(e){e.target.composing||(t.frombook=e.target.value)}}})]),o("view",{staticClass:"uni-padding-wrap"},[o("view",{staticClass:"uni-btn-v uni-common-mt"},[o("button",{staticClass:"btn-submit ",attrs:{formType:"submit",type:"primary",eventid:"145ef090-1"},on:{tap:t.post}},[t._v("确定")])],1)])])},a=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("view",{staticClass:"feedback-title"},[o("text",[t._v("用户用于交换的图书名称:")])])}];o.d(e,"a",function(){return n}),o.d(e,"b",function(){return a})},"20d4":function(t,e,o){"use strict";var n=o("4e57"),a=o.n(n);a.a},"33f7":function(t,e,o){"use strict";o.r(e);var n=o("6e1a"),a=o.n(n);for(var s in n)"default"!==s&&function(t){o.d(e,t,function(){return n[t]})}(s);e["default"]=a.a},"4e57":function(t,e,o){},"6e1a":function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o("2f62");function a(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),n.forEach(function(e){s(t,e,o[e])})}return t}function s(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var i={data:function(){return{tobook:"",frombook:"",sendDate:{from_bid:"",to_bid:""}}},onLoad:function(t){console.log("e"+t.bname+t),console.log(t),this.tobook=t.bname,this.sendDate.to_bid=t.bid},computed:a({},(0,n.mapState)(["header","data"])),methods:{post:function(){var e=this;console.log("进入提交"),console.log(this.sendDate),""!=this.frombook?(t.showLoading({title:"提交中",mask:!1}),t.request({url:"http://api.thinker.ink/v1/books/?search="+this.frombook,method:"GET",success:function(o){console.log(o),0!=o.data.count?(e.sendDate.from_bid=o.data.data[0].bid,console.log("sendDate终"),console.log(e.sendDate),t.request({url:"https://api.thinker.ink/v1/books/applications/publish/",method:"POST",data:e.sendDate,header:e.header,success:function(e){console.log(e),t.hideLoading(),201===e.statusCode?t.showToast({title:"发布成功!"}):t.showToast({title:"发布失败!"}),console.log(e)}})):t.showToast({title:"您未拥有此书",mask:!1,duration:1500})},fail:function(){},complete:function(){}})):t.showToast({title:"请补全信息",mask:!1,duration:1500})}}};e.default=i}).call(this,o("649d")["default"])},cb59:function(t,e,o){"use strict";o("e497");var n=s(o("b0ce")),a=s(o("cf8f"));function s(t){return t&&t.__esModule?t:{default:t}}Page((0,n.default)(a.default))},cf8f:function(t,e,o){"use strict";o.r(e);var n=o("0fd3"),a=o("33f7");for(var s in a)"default"!==s&&function(t){o.d(e,t,function(){return a[t]})}(s);o("20d4");var i=o("2877"),r=Object(i["a"])(a["default"],n["a"],n["b"],!1,null,null,null);r.options.__file="post.vue",e["default"]=r.exports}},[["cb59","common/runtime","common/vendor"]]]);